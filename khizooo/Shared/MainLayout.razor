@inherits LayoutComponentBase
@inject NavigationManager NavigationManager
@inject IJSRuntime JSRuntime

<!-- WRAPPER -->
<div class="wrapper">

    <!-- Left Sidebar  -->
    <div class="iq-sidebar">
        <LeftSidebar />
    </div>

    <!-- TOP Nav Bar -->
    <TopNavbar />

    @Body

</div>
<!-- WRAPPER -->

<Footer />

    @code {
        protected override void OnInitialized()
        {
            NavigationManager.LocationChanged += OnLocationChanged;
        }

        private void OnLocationChanged(object sender, LocationChangedEventArgs e)
        {
            StateHasChanged();
        }

        public void Dispose()
        {
            NavigationManager.LocationChanged -= OnLocationChanged;
        }

        protected override async Task OnInitializedAsync()
        {
            try
            {
                <!-- GOOGLE TOOLS -->
                //await JSRuntime.InvokeVoidAsync("LoadGoogleScripts");
                <!-- GOOGLE TOOLS -->
            }
            catch (Exception ex) { Console.WriteLine($"Error loading or calling script: {ex.Message}"); }
        }

    }




    
    