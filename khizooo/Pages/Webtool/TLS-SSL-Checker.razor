@page "/webtool/tls-ssl-checker"
@inject NavigationManager NavigationManager
@inject IJSRuntime JSRuntime
@using System.Net.Security;
@using System.Net.Sockets;
@using System.Security.Cryptography.X509Certificates;


@using khizooo.AppData.SharedHelper;
@using khizooo.AppData;

<PageTitle>Khizooo - Toolbox</PageTitle>
<HeadContent>

</HeadContent>

<style>

    .gcg-style {
        background: #fff;
        padding: 15px;
        position: relative;
        border: 2px solid #010101;
    }

        .gcg-style i {
            position: absolute;
            top: 10px;
            right: 10px;
            cursor: pointer;
        }

            .gcg-style i:active {
                transform: rotate(45deg);
            }

        .gcg-style .gradientColorBox {
            height: 315px;
            width: 100%;
            border: 2px solid #010101;
            background: linear-gradient(to left top, #9acd32, #daff44);
        }

        .gcg-style p {
            font-size: 14px;
            margin: 5px 0;
            font-weight: 600;
        }

        .gcg-style select {
            height: 50px;
            padding: 0 10px;
            line-height: 50px;
            border: 2px solid black;
            cursor: pointer;
            width: 100%;
        }

        .gcg-style .colorContainer {
            margin: 10px 0;
        }

            .gcg-style .colorContainer .colors {
                display: flex;
                justify-content: space-between;
                align-items: center;
            }

        .gcg-style .colors input {
            width: 49%;
            height: 50px;
            border: 2px solid black;
            padding: 4px;
        }

        .gcg-style textarea {
            color: black;
            width: 100%;
            height: 60px;
            font-size: 12px;
            resize: none;
            margin: 10px 0;
            border: 2px solid black;
        }

        .gcg-style .button {
            display: flex;
            justify-content: end;
            margin: 5px;
        }
</style>

<!-- MAIN CONTENT START -->
<div class="arlo_tm_rightpart">
    <div class="rightpart_inner">

        <div class="arlo_tm_portfolio_single_wrap">
            <div class="container">
                <div class="title_holder" style="text-align:center">
                    <h3 class="lp-toolbox">TLS/SSL Checker</h3>
                    <p style="margin-bottom: 15px;">Analyze the SSL/TLS Configuration of Your Server or CDN for Maximum Security!</p>
                    <p style="margin-bottom: 25px;"><strong>Checker | Toolbox</strong></p>
                </div>

                <hr class="soften" />

                <div class="details_wrap">

                    <div class="container">
                        <div class="row">
                            <div class="col-xxl-5 col-xl-5 col-lg-5 col-md-5 col-sm-12 col-xs-12">
                                <div class="container gcg-style">

                                    <div class="GradientType">
                                        <p>Enter URL</p>
                                        <input id="url" placeholder="Enter URL" />
                                    </div>

                                    <div class="button">
                                        <button class="btn btn-danger button refreshBtn">Reset</button>
                                        <button class="btn btn-success button startBtn">Start</button>
                                    </div>

                                </div>
                            </div>

                            <div class="col-xxl-7 col-xl-7 col-lg-7 col-md-7 col-sm-12 col-xs-12">

                                <div class="container gradient-generator">
                                    <p>
                                        A powerful yet simple tool designed for creators, developers, and designers who want to build captivating backgrounds for websites, apps, or digital artwork. Whether you're looking for sleek linear gradients or striking radial effects, this tool gives you full control over your designs.
                                    </p>
                                    <br>
                                    <h3 style="margin-bottom:5px">Features</h3>
                                    <ul>
                                        <li><strong>Linear and Radial Gradients</strong> - Effortlessly switch between two of the most popular gradient types. Choose a linear gradient for smooth transitions in any direction, or a radial gradient for a circular color effect.</li>
                                        <li><strong>Full Direction and Position Control</strong> - In linear gradients, easily adjust the direction from top to bottom, left to right, or even at a diagonal. For radial gradients, position your color center precisely where you want – center, corners, or anywhere in between.</li>
                                        <li><strong>Custom Color Selection</strong> - Pick the perfect colors for your gradients. Use the built-in color picker to select any color from the spectrum, or enter your custom hex codes directly.</li>
                                        <li><strong>Live Preview</strong> - Instantly see your gradient take shape in the preview box as you adjust the colors, direction, or position.</li>
                                        <li><strong>Random Gradient Generator</strong> - Feeling creative or need inspiration? Use the "Refresh" button to generate random gradients with new colors every time.</li>
                                        <li><strong>Copy Code</strong> - Once you've created the perfect gradient, simply click "Copy Code" to copy the CSS for easy use in your projects.</li>
                                    </ul>
                                    <br>
                                    <h3 style="margin-bottom:5px">How to Use</h3>
                                    <div class="how-to-use">
                                        <ol>
                                            <li><strong>Select Gradient Type:</strong> Choose between <strong>Linear Gradient</strong> and <strong>Radial Gradient</strong>. The interface adapts to your selection, showing either direction options (for linear) or position controls (for radial).</li>
                                            <li><strong>Choose Colors:</strong> Use the color pickers to select your starting and ending colors. The preview box will update in real-time as you make your selections.</li>
                                            <li>
                                                <strong>Set Direction or Position:</strong>
                                                <ul>
                                                    <li>For <strong>linear gradients</strong>, pick from predefined directions such as top-to-bottom or diagonal flows.</li>
                                                    <li>For <strong>radial gradients</strong>, choose a position for the gradient's center point.</li>
                                                </ul>
                                            </li>
                                            <li><strong>Preview &amp; Copy:</strong> Once you're happy with the design, click <strong>Copy Code</strong> to grab the CSS and use it in your web projects instantly!</li>
                                        </ol>
                                    </div>
                                    <br>
                                    <h3 style="margin-bottom:5px">Why Use Gradient Generator?</h3>
                                    <p>
                                        This tool provides maximum flexibility with an intuitive interface, making it perfect for users of all skill levels. Whether you're designing a sleek modern UI or creating custom backgrounds for your personal projects, our gradient generator is designed to save time while delivering professional-quality results.
                                    </p>



                                </div>


                            </div>
                        </div>
                    </div>

                </div>

            </div>
        </div>

    </div>
</div>
<!-- /MAIN CONTENT END -->

@code {

    [Parameter]
    public int Id { get; set; } = 0;
    [Parameter]
    public string Slug { get; set; } = "";

    SharedHelper SH = new SharedHelper();
    KhizoOo Me = new KhizoOo();


    protected override async Task OnInitializedAsync()
    {
        try
        {
            await JSRuntime.InvokeVoidAsync("LoadScripts", "toolbox/js/gradient-color-picker.js");
        }
        catch (Exception ex) { Console.WriteLine($"Error loading or calling script: {ex.Message}"); }
    }



    public void GetSslDetails(string url)
    {
        // bool status = false;
        // string message = string.empty;

        // if (string.isnullorwhitespace(url))
        // {
        //     message = "invalid url provided";
        // }

        // try
        // {
        //     normalize url and extract hostname
        //     uri uri = new uribuilder(url).uri;
        //     string hostname = uri.host;

        //     using var client = new tcpclient();
        //     await client.connectasync(hostname, 443);

        //     using var sslstream = new sslstream(client.getstream(), false,
        //         (sender, certificate, chain, errors) => true);

        //     initiate ssl handshake
        //     await sslstream.authenticateasclientasync(hostname);

        //     extract certificate details
        //     var certificate = sslstream.remotecertificate as x509certificate2;
        //     if (certificate == null)
        //     {
        //         return badrequest("no ssl certificate found.");
        //     }

        //     var issuer = certificate.issuer;
        //     var subject = certificate.subject;
        //     var validfrom = certificate.notbefore.tostring("yyyy-mm-dd hh:mm:ss");
        //     var validto = certificate.notafter.tostring("yyyy-mm-dd hh:mm:ss");
        //     var protocol = sslstream.sslprotocol.tostring();
        //     var cipher = sslstream.cipheralgorithm.tostring();

        //     extract certificate chain
        //     var chain = new x509chain();
        //     chain.build(certificate);

        //     var chainlist = chain.chainelements
        //         .cast<x509chainelement>()
        //         .select(e => e.certificate.subject)
        //         .tolist();

        //     return results as json
        //     return ok(new
        //     {
        //         issuer = issuer,
        //         subject = subject,
        //         validfrom = validfrom,
        //         validto = validto,
        //         protocol = protocol,
        //         cipher = cipher,
        //         certificatechain = chainlist
        //     });
        // }
        // catch (exception ex)
        // {
        //     return statuscode(500, $"an error occurred: {ex.message}");
        // }
    }


}
